{
  "comments": [
    {
      "key": {
        "uuid": "7c097cee_13b20012",
        "filename": "fixme_mem.h",
        "patchSetId": 1
      },
      "lineNbr": 7,
      "author": {
        "id": 1006692
      },
      "writtenOn": "2020-09-18T19:23:56Z",
      "side": 1,
      "message": "Are the SCUDO headers exposed at all in the NDK?  If so we can compile SkMemory_malloc.cpp with the appropriate build flags and then guard this code with SK_BUILD_FOR_ANDROID",
      "revId": "18f146475c0ae46721142fa844ad9c8da96c62f8",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "db9a5ca5_39f845fd",
        "filename": "fixme_mem.h",
        "patchSetId": 1
      },
      "lineNbr": 7,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2020-09-18T20:41:41Z",
      "side": 1,
      "message": "SCUDO headers would be considered part of the platform build (like libbinder), and I think it\u0027s unlikely we would expose a hook for this in the NDK. Do you mean that this code is compiled and used inside of an app? For instance, libhwui uses skia to implement SDK/NDK APIs that would be used by an app, but it is not restricted to run in an app; it\u0027s part of the platform.\n\nBut, ahah! I see SK_BUILD_FOR_ANDROID_FRAMEWORK now. That should work. Thanks!",
      "parentUuid": "7c097cee_13b20012",
      "revId": "18f146475c0ae46721142fa844ad9c8da96c62f8",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "06524108_4b476d9c",
        "filename": "src/ports/SkMemory_malloc.cpp",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2020-09-18T19:01:19Z",
      "side": 1,
      "message": "main questions for jreck:\n- how should I go about getting a change here merged (upstream?)\n- is there an appropriate place/way to add a SCUDO dependency? (I can actually avoid the RAII class here, I thought there would be a lot more allocation sites, but it makes sense skia abstracts that away)\n- any other places you can think of where there might be a problem?",
      "range": {
        "startLine": 10,
        "startChar": 0,
        "endLine": 10,
        "endChar": 22
      },
      "revId": "18f146475c0ae46721142fa844ad9c8da96c62f8",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "254d1ba7_30eea6e8",
        "filename": "src/ports/SkMemory_malloc.cpp",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1010103
      },
      "writtenOn": "2020-09-18T19:09:49Z",
      "side": 1,
      "message": "+djsollen for to answer these questions",
      "parentUuid": "06524108_4b476d9c",
      "range": {
        "startLine": 10,
        "startChar": 0,
        "endLine": 10,
        "endChar": 22
      },
      "revId": "18f146475c0ae46721142fa844ad9c8da96c62f8",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "441c1ad7_00d815e6",
        "filename": "src/ports/SkMemory_malloc.cpp",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1006692
      },
      "writtenOn": "2020-09-18T19:23:56Z",
      "side": 1,
      "message": "We would want to land this CL at skia.googlesource.com and it would then get automerged into Android.\n\nI think SCUDO is applied at a per binary level and Skia is included in the libhwui binary and other test binaries in frameworks/base/libs/hwui.  Is it reasonable to add any dependencies to the makefiles there?",
      "parentUuid": "254d1ba7_30eea6e8",
      "range": {
        "startLine": 10,
        "startChar": 0,
        "endLine": 10,
        "endChar": 22
      },
      "revId": "18f146475c0ae46721142fa844ad9c8da96c62f8",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7005c59b_33f4d468",
        "filename": "src/ports/SkMemory_malloc.cpp",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2020-09-18T20:41:41Z",
      "side": 1,
      "message": "Yeah, we would definitely want to add explicit dependencies. I\u0027ll have to wait until the SCUDO APIs are finalized and we figure out how to handle the API issue, but I can certainly move it there then. Thanks!",
      "parentUuid": "441c1ad7_00d815e6",
      "range": {
        "startLine": 10,
        "startChar": 0,
        "endLine": 10,
        "endChar": 22
      },
      "revId": "18f146475c0ae46721142fa844ad9c8da96c62f8",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e5954cc0_eded591c",
        "filename": "src/ports/SkMemory_malloc.cpp",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2020-09-18T20:41:41Z",
      "side": 1,
      "message": "libscudo is included statically once in libc.\n\nI suppose what I mean is, if we have an Android-only header library like \"libscudo_flags\" or similar, is it okay to include here?",
      "parentUuid": "441c1ad7_00d815e6",
      "range": {
        "startLine": 10,
        "startChar": 0,
        "endLine": 10,
        "endChar": 22
      },
      "revId": "18f146475c0ae46721142fa844ad9c8da96c62f8",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "01e9b85b_7c1d4c67",
        "filename": "src/ports/SkMemory_malloc.cpp",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2020-09-18T20:49:56Z",
      "side": 1,
      "message": "we wouldn\u0027t accept that as API on our side, so \"no, but that won\u0027t be a problem anyway\" :-)",
      "parentUuid": "e5954cc0_eded591c",
      "range": {
        "startLine": 10,
        "startChar": 0,
        "endLine": 10,
        "endChar": 22
      },
      "revId": "18f146475c0ae46721142fa844ad9c8da96c62f8",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}